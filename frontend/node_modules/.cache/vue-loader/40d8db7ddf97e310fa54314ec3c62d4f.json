{"remainingRequest":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/components/common-components/Answer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/components/common-components/Answer.vue","mtime":1590771181378},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js","mtime":1584985692138},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js","mtime":1588785012576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IEFQSVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQW5zd2VyQ29tcG9uZW50IiwKICBwcm9wczogewogICAgYW5zd2VyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICAvLyByZXF1ZXN0VXNlcjogewogICAgLy8gICB0eXBlOiBTdHJpbmcsCiAgICAvLyAgIHJlcXVpcmVkOiB0cnVlCiAgICAvLyB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckxpa2VkQW5zd2VyOiB0aGlzLmFuc3dlci51c2VyX2hhc192b3RlZCwKICAgICAgbGlrZXNDb3VudGVyOiB0aGlzLmFuc3dlci5saWtlc19jb3VudCwKICAgICAgbXNnOiAnJwogICAgfQoKICB9LAoKICBjb21wdXRlZDogewogICAgaXNBbnN3ZXJBdXRob3IoKSB7CiAgICAgIC8vIHJldHVybiB0cnVlIGlmIHRoZSBsb2dnZWQgaW4gdXNlciBpcyBhbHNvIHRoZSBhdXRob3Igb2YgdGhlIGFuc3dlciBpbnN0YW5jZQogICAgICBsZXQgYW5zd2VyX29iaiA9IHRoaXMuYW5zd2VyOwogICAgICBsZXQgYXV0aF9hdXRob3Jfb2ZfYW5zd2VyID0gT2JqZWN0LnZhbHVlcyhhbnN3ZXJfb2JqKS5pbmNsdWRlcyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aG9yJykpOwogICAgICByZXR1cm4gYXV0aF9hdXRob3Jfb2ZfYW5zd2VyOwogICAgICAKICAgIH0KCiAgfSwKICBtZXRob2RzOiB7CiAgICB0cmlnZ2VyRGVsZXRlQW5zd2VyKCkgewogICAgICB0aGlzLiRlbWl0KCJkZWxldGUtYW5zd2VyIiwgdGhpcy5hbnN3ZXIpOwogICAgfSwKICAgIHRvZ2dsZUxpa2UoKXsKICAgICAgdGhpcy51c2VyTGlrZWRBbnN3ZXIgPT09IGZhbHNlIAogICAgICAgID8gdGhpcy5saWtlQW5zd2VyKCkKICAgICAgICA6IHRoaXMudW5MaWtlQW5zd2VyKCkKICAgIH0sCiAgICBsaWtlQW5zd2VyKCl7CiAgICAgIHRoaXMudXNlckxpa2VkQW5zd2VyID0gdHJ1ZTsKICAgICAgdGhpcy5saWtlc0NvdW50ZXIgKz0gMTsKICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvYW5zd2Vycy8keyB0aGlzLmFuc3dlci5pZH0vbGlrZS9gOwogICAgICB0aGlzLm1zZyA9ICdZb3UgbGlrZSBpdCEnCiAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQsICdQT1NUJyk7CgoKICAgIH0sCiAgICB1bkxpa2VBbnN3ZXIoKXsKICAgICAgdGhpcy51c2VyTGlrZWRBbnN3ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5saWtlc0NvdW50ZXIgLT0gMTsKICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvYW5zd2Vycy8keyB0aGlzLmFuc3dlci5pZH0vbGlrZS9gOwogICAgICB0aGlzLm1zZyA9ICdZb3UgZGlzbGlrZSBpdCEnCiAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQsICdERUxFVEUnKTsKCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Answer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Answer.vue","sourceRoot":"src/components/common-components","sourcesContent":["<template>\n  <div class=\"single-answer\">\n    <p class=\"text-muted\">\n      <strong>{{ answer.author }}</strong>\n      &#8901; {{ answer.created }}\n    </p>\n    <p>{{ answer.body }}</p>\n    <div v-if=\"isAnswerAuthor\">\n      <router-link \n        :to=\"{ name: 'answer-editor', params: { id: answer.id }}\"\n        class=\"btn btn-sm btn-outline-secondary mr-1\"\n      >Edit</router-link>\n      <button class=\"btn btn-sm btn-outline-danger\" @click=\"triggerDeleteAnswer\">Delete</button>\n    </div>\n    <div v-else>\n      <button \n        class=\"btn btn-sm\"\n        @click=\"toggleLike\"\n        :class=\"{\n          'btn-info': userLikedAnswer,\n          'btn-outline-secondary': !userLikedAnswer,\n        }\"\n      \n      >\n      <strong><i class=\"fas fa-thumbs-up\"></i>[{{ likesCounter }}]</strong>\n      </button>\n      <span class=\"text-muted ml-3\">{{ msg }}</span>\n\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { APIService } from \"@/common/api.service.js\";\nexport default {\n  name: \"AnswerComponent\",\n  props: {\n    answer: {\n      type: Object,\n      required: true\n    },\n    // requestUser: {\n    //   type: String,\n    //   required: true\n    // }\n  },\n  data() {\n    return {\n      userLikedAnswer: this.answer.user_has_voted,\n      likesCounter: this.answer.likes_count,\n      msg: ''\n    }\n\n  },\n\n  computed: {\n    isAnswerAuthor() {\n      // return true if the logged in user is also the author of the answer instance\n      let answer_obj = this.answer;\n      let auth_author_of_answer = Object.values(answer_obj).includes(localStorage.getItem('author'));\n      return auth_author_of_answer;\n      \n    }\n\n  },\n  methods: {\n    triggerDeleteAnswer() {\n      this.$emit(\"delete-answer\", this.answer);\n    },\n    toggleLike(){\n      this.userLikedAnswer === false \n        ? this.likeAnswer()\n        : this.unLikeAnswer()\n    },\n    likeAnswer(){\n      this.userLikedAnswer = true;\n      this.likesCounter += 1;\n      let endpoint = `/api/answers/${ this.answer.id}/like/`;\n      this.msg = 'You like it!'\n      APIService(endpoint, 'POST');\n\n\n    },\n    unLikeAnswer(){\n      this.userLikedAnswer = false;\n      this.likesCounter -= 1;\n      let endpoint = `/api/answers/${ this.answer.id}/like/`;\n      this.msg = 'You dislike it!'\n      APIService(endpoint, 'DELETE');\n\n    }\n  }\n};\n</script>\n\n<style>\n</style>"]}]}