{"remainingRequest":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/views/Home.vue","mtime":1590329633116},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js","mtime":1584985692138},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js","mtime":1588785012576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFQSVNlcnZpY2UgfSBmcm9tICIuLi9jb21tb24vYXBpLnNlcnZpY2UuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlc3Rpb25zOiBbXSwKICAgICAgbmV4dDogbnVsbCwKICAgICAgbG9hZGluZ1F1ZXN0aW9uczogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFF1ZXN0aW9ucygpIHsKICAgICAgLy8gbWFrZSBhIEdFVCBSZXF1ZXN0IHRvIHRoZSBxdWVzdGlvbnMgbGlzdCBlbmRwb2ludCBhbmQgcG9wdWxhdGUgdGhlIHF1ZXN0aW9ucyBhcnJheQogICAgICBsZXQgZW5kcG9pbnQgPSAiL2FwaS9xdWVzdGlvbnMvIjsKICAgICAgaWYodGhpcy5uZXh0KXsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmdRdWVzdGlvbnMgPSB0cnVlCiAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQpCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICB0aGlzLnF1ZXN0aW9ucy5wdXNoKC4uLmRhdGEucmVzdWx0cykKICAgICAgICAgIHRoaXMubG9hZGluZ1F1ZXN0aW9ucyA9IGZhbHNlOwogICAgICAgICAgaWYoZGF0YS5uZXh0KSB7CiAgICAgICAgICAgIHRoaXMubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRRdWVzdGlvbnMoKQogICAgZG9jdW1lbnQudGl0bGUgPSAiUUEgQXBwIjsKICB9Cn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  \n  <div class=\"home text-primary\">\n    <div class=\"container mt-2\">\n      <div v-for=\"question in questions\" :key=\"question.pk\">\n        <p class=\"mb-0\">Posted by:\n          <span class=\"text-info\">{{ question.author }}</span>\n        </p>\n        <h2>\n          <router-link :to=\"{ name: 'question', params: { slug: question.slug }}\"> \n            {{ question.content }}\n          </router-link>\n        </h2>\n        <p class=\"w3-text-indigo\">Answers: {{ question.answers_count }}</p>\n        <hr>\n       \n      </div>\n      <div class=\"my-4\">\n        <p v-show=\"loadingQuestions\">...load...</p>\n        <button \n          v-show=\"next\"\n          @click=\"getQuestions\"\n          class=\"btn btn-sm btn-outline-success\"\n          >Load more...</button>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { APIService } from \"../common/api.service.js\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      questions: [],\n      next: null,\n      loadingQuestions: false\n    }\n  },\n  methods: {\n    getQuestions() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/questions/\";\n      if(this.next){\n        endpoint = this.next;\n      }\n      this.loadingQuestions = true\n      APIService(endpoint)\n        .then(data => {\n          this.questions.push(...data.results)\n          this.loadingQuestions = false;\n          if(data.next) {\n            this.next = data.next;\n          }else {\n            this.next = null;\n          }\n          \n        })\n    }\n  },\n  created() {\n    this.getQuestions()\n    document.title = \"QA App\";\n  }\n};\n</script>\n\n<style scoped>\n  .home {\n    margin-top: 100px !important;\n  }\n\n</style>\n\n"]}]}