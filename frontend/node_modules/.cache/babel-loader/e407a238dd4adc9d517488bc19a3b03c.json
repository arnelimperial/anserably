{"remainingRequest":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js!/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/views/Question.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/views/Question.vue","mtime":1590773084255},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js","mtime":1584985692138},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js","mtime":1588785012576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvZW5naW5lL0RvY3VtZW50cy9ELVZKL1FBMi9xYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2VuZ2luZS9Eb2N1bWVudHMvRC1WSi9RQTIvcWEvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQVBJU2VydmljZSB9IGZyb20gIi4uL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCBQcmV2ZW50VW5sb2FkIGZyb20gJ3Z1ZS1wcmV2ZW50LXVubG9hZCc7CmltcG9ydCBRdWVzdGlvbkFjdGlvbnMgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbi1jb21wb25lbnRzL1F1ZXN0aW9uQWN0aW9ucy52dWUiOwppbXBvcnQgQW5zd2VyQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9jb21tb24tY29tcG9uZW50cy9BbnN3ZXIudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJRdWVzdGlvbiIsCiAgcHJvcHM6IHsKICAgIHNsdWc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQW5zd2VyQ29tcG9uZW50OiBBbnN3ZXJDb21wb25lbnQsCiAgICBRdWVzdGlvbkFjdGlvbnM6IFF1ZXN0aW9uQWN0aW9ucywKICAgIFByZXZlbnRVbmxvYWQ6IFByZXZlbnRVbmxvYWQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVzdGlvbjoge30sCiAgICAgIGFuc3dlcnM6IFtdLAogICAgICBuZXdBbnN3ZXJCb2R5OiBbXSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHVzZXJIYXNBbnN3ZXJlZDogZmFsc2UsCiAgICAgIHNob3dGb3JtOiBmYWxzZSwKICAgICAgbmV4dDogbnVsbCwKICAgICAgbG9hZGluZ0Fuc3dlcnM6IGZhbHNlLAogICAgICBoYXNDaGFuZ2VzOiB0cnVlLAogICAgICByZXF1ZXN0VXNlcjogbnVsbCwKICAgICAgc2hvd0VkaXRRdWVzdGlvbjogZmFsc2UsCiAgICAgIHF1ZXN0aW9uU2x1ZzogbnVsbCwKICAgICAgcXVlc3Rpb25Cb2R5OiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0UmVxdWVzdFVzZXI6IGZ1bmN0aW9uIHNldFJlcXVlc3RVc2VyKCkgewogICAgICAvLyB0aGUgdXNlcm5hbWUgaGFzIGJlZW4gc2V0IHRvIGxvY2FsU3RvcmFnZSBieSB0aGUgQXBwLnZ1ZSBjb21wb25lbnQKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3IiKTsKICAgIH0sCiAgICBzZXRQYWdlVGl0bGU6IGZ1bmN0aW9uIHNldFBhZ2VUaXRsZSh0aXRsZSkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlOwogICAgfSwKICAgIGdldFF1ZXN0aW9uRGF0YTogZnVuY3Rpb24gZ2V0UXVlc3Rpb25EYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyIuY29uY2F0KHRoaXMuc2x1ZywgIi8iKTsKICAgICAgQVBJU2VydmljZShlbmRwb2ludCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICBfdGhpcy5xdWVzdGlvbiA9IGRhdGE7CiAgICAgICAgICBfdGhpcy51c2VySGFzQW5zd2VyZWQgPSBkYXRhLnVzZXJfaGFzX2Fuc3dlcmVkOwoKICAgICAgICAgIF90aGlzLnNldFBhZ2VUaXRsZShkYXRhLmNvbnRlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5xdWVzdGlvbiA9IG51bGw7CgogICAgICAgICAgX3RoaXMuc2V0UGFnZVRpdGxlKCI0MDQgRXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFF1ZXN0aW9uQW5zd2VyczogZnVuY3Rpb24gZ2V0UXVlc3Rpb25BbnN3ZXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iLmNvbmNhdCh0aGlzLnNsdWcsICIvYW5zd2Vycy8iKTsKCiAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nQW5zd2VycyA9IHRydWU7CiAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgX3RoaXMyJGFuc3dlcnM7CgogICAgICAgIChfdGhpczIkYW5zd2VycyA9IF90aGlzMi5hbnN3ZXJzKS5wdXNoLmFwcGx5KF90aGlzMiRhbnN3ZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5yZXN1bHRzKSk7CgogICAgICAgIF90aGlzMi5sb2FkaW5nQW5zd2VycyA9IGZhbHNlOwoKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICBfdGhpczIubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLm5leHQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQW5zd2VyOiBmdW5jdGlvbiBkZWxldGVBbnN3ZXIoYW5zd2VyKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZW5kcG9pbnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZW5kcG9pbnQgPSAiL2FwaS9hbnN3ZXJzLyIuY29uY2F0KGFuc3dlci5pZCwgIi8iKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJU2VydmljZShlbmRwb2ludCwgIkRFTEVURSIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpczMuJGRlbGV0ZShfdGhpczMuYW5zd2VycywgX3RoaXMzLmFuc3dlcnMuaW5kZXhPZihhbnN3ZXIpKTsKCiAgICAgICAgICAgICAgICBfdGhpczMudXNlckhhc0Fuc3dlcmVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpc1F1ZXN0aW9uQXV0aG9yOiBmdW5jdGlvbiBpc1F1ZXN0aW9uQXV0aG9yKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwLCBxX29iaiwgY3VycmVudF91c2VyLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvcXVlc3Rpb25zLyIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBxX29iaiA9IHJlc3AuZGF0YS5yZXN1bHRzOwogICAgICAgICAgICAgICAgY3VycmVudF91c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhvciIpOwogICAgICAgICAgICAgICAgcmVzdWx0ID0gcV9vYmouZmlsdGVyKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5hdXRob3IgPT09IGN1cnJlbnRfdXNlcjsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQucXVlc3Rpb24uYXV0aG9yID09PSBjdXJyZW50X3VzZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNob3dFZGl0UXVlc3Rpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVRdWVzdGlvbjogZnVuY3Rpb24gZGVsZXRlUXVlc3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGVuZHBvaW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iLmNvbmNhdChfdGhpczUuc2x1Zyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJU2VydmljZShlbmRwb2ludCwgIkRFTEVURSIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKCIvY29yZSIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubmV3QW5zd2VyQm9keSkgewogICAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iLmNvbmNhdCh0aGlzLnNsdWcsICIvYW5zd2VyLyIpOwogICAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQsICJQT1NUIiwgewogICAgICAgICAgYm9keTogdGhpcy5uZXdBbnN3ZXJCb2R5CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgX3RoaXM2LmFuc3dlcnMudW5zaGlmdChkYXRhKTsKCiAgICAgICAgICBfdGhpczYuc2hvd0Zvcm0gPSBmYWxzZTsKICAgICAgICAgIF90aGlzNi51c2VySGFzQW5zd2VyZWQgPSB0cnVlOwoKICAgICAgICAgIGlmIChfdGhpczYuZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXM2LmVycm9yID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLm5ld0Fuc3dlckJvZHkgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IgPSAiWW91IGNhbm5vdCBzZW5kIGFuIGVtcHR5IGFuc3dlciEiOwogICAgICB9CiAgICB9LAogICAgc3VibWl0VXBkYXRlZFF1ZXN0aW9uOiBmdW5jdGlvbiBzdWJtaXRVcGRhdGVkUXVlc3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucXVlc3Rpb25Cb2R5KSB7CiAgICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyIuY29uY2F0KHRoaXMuc2x1ZywgIi8iKTsKICAgICAgICBBUElTZXJ2aWNlKGVuZHBvaW50LCAiUFVUIiwgewogICAgICAgICAgY29udGVudDogdGhpcy5xdWVzdGlvbkJvZHkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiaG9tZSIsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHNsdWc6IF90aGlzNy5xdWVzdGlvblNsdWcKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICJSZXF1aXJlZCBmaWVsZCEiOwogICAgICB9CiAgICB9LAogICAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZW5kcG9pbnQsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgYW5zd2VyJ3MgZGF0YSBmcm9tIHRoZSBSRVNUIEFQSSBhbmQgc2V0IHR3byBkYXRhIHByb3BlcnRpZXMgZm9yIHRoZSBjb21wb25lbnQKICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyIuY29uY2F0KHRvLnBhcmFtcy5zbHVnLCAiLyIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSVNlcnZpY2UoZW5kcG9pbnQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgbmV4dChmdW5jdGlvbiAodm0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHZtLnF1ZXN0aW9uQm9keSA9IGRhdGEuY29udGVudDsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRRdWVzdGlvbkRhdGEoKTsKICAgIHRoaXMuZ2V0UXVlc3Rpb25BbnN3ZXJzKCk7CiAgICB0aGlzLnNldFJlcXVlc3RVc2VyKCk7CiAgICB0aGlzLmlzUXVlc3Rpb25BdXRob3IoKTsgLy90aGlzLmRlbGV0ZVF1ZXN0aW9uKCkKICB9Cn07"},{"version":3,"sources":["Question.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"single-question\">\n    <div class=\"container\" v-if=\"question\">\n      <h2>{{ question.content }}</h2>\n      <div v-if=\"showEditQuestion\">\n        <!-- <router-link\n          :to=\"{ name: 'update-question', params: { slug: question.slug }}\"\n          class=\"btn btn-sm btn-outline-secondary mr-1\"\n        >Edit</router-link>-->\n        <button\n          onclick=\"document.getElementById('id01').style.display='block'\"\n          class=\"btn btn-sm btn-outline-secondary mr-1\"\n        >Update Question</button>\n\n        <div id=\"id01\" class=\"w3-modal mt-5 bg-dark\">\n          <div class=\"w3-modal-content w3-animate-opacity w3-card-4\">\n            <header class=\"container bg-light py-2\">\n              <span\n                onclick=\"document.getElementById('id01').style.display='none'\"\n                class=\"w3-button w3-display-topright\"\n              >&times;</span>\n              <h6>\n                Update:\n                <span class=\"w3-text-red\">{{ question.content }}</span>\n              </h6>\n            </header>\n            <div class=\"container my-3\">\n              <form @submit.prevent=\"submitUpdatedQuestion\">\n                <textarea\n                  v-model=\"questionBody\"\n                  class=\"form-control mb-4\"\n                  rows=\"3\"\n                  placeholder=\"Update here...\"\n                ></textarea>\n                <button type=\"submit\" class=\"btn btn-success mb-3\">Submit update</button>\n              </form>\n            </div>\n          </div>\n        </div>\n        <button class=\"btn btn-sm btn-outline-danger my-2\" @click=\"deleteQuestion\">Delete Question</button>\n      </div>\n\n      <p class=\"mb-0\">\n        Posted by:\n        <span class=\"w3-text-red\">{{ question.author }}</span>\n      </p>\n      <p class=\"text-secondary\">{{ question.created }}</p>\n      <hr />\n      <div v-if=\"userHasAnswered\">\n        <p class=\"answer-added\">You've written an answer!</p>\n      </div>\n      <div v-else-if=\"showForm\">\n        <form class=\"card\" @submit.prevent=\"onSubmit\">\n          <div class=\"card-header px-3\">Answer thje question</div>\n          <div class=\"card-block\">\n            <textarea\n              v-model=\"newAnswerBody\"\n              class=\"form-control\"\n              placeholder=\"Share your knowledge\"\n              rows=\"5\"\n            ></textarea>\n          </div>\n          <div class=\"card-footer px-3\">\n            <button class=\"btn btn-sm btn-success\">Submit your answer</button>\n          </div>\n        </form>\n        <p v-if=\"error\" class=\"text-danger mt-2\">{{ error }}</p>\n      </div>\n      <div v-else>\n        <button class=\"btn bt-sm btn-success\" @click=\"showForm = true\">Answer the question</button>\n      </div>\n      <hr />\n    </div>\n    <div v-else>\n      <h2 class=\"w3-text-red\">404 - Not Found</h2>\n\n    </div>\n\n    <div class=\"container\" v-if=\"question\">\n      <AnswerComponent\n        v-for=\"answer in answers\"\n        :answer=\"answer\"\n        :key=\"answer.id\"\n        :requestUser=\"requestUser\"\n        @delete-answer=\"deleteAnswer\"\n      />\n      <div class=\"my-4\">\n        <p v-show=\"loadingAnswers\">...load...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getQuestionAnswers\"\n          class=\"btn btn-sm btn-outline-success\"\n        >Load more...</button>\n      </div>\n    </div>\n\n    <PreventUnload :when=\"hasChanges\"/>\n  </div>\n</template>\n\n<script>\nimport { APIService } from \"../common/api.service.js\";\nimport PreventUnload from 'vue-prevent-unload';\nimport QuestionActions from \"@/components/common-components/QuestionActions.vue\";\nimport AnswerComponent from \"@/components/common-components/Answer.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"Question\",\n  props: {\n    slug: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    AnswerComponent,\n    QuestionActions,\n    PreventUnload\n  },\n  data() {\n    return {\n      question: {},\n      answers: [],\n      newAnswerBody: [],\n      error: null,\n      userHasAnswered: false,\n      showForm: false,\n      next: null,\n      loadingAnswers: false,\n      hasChanges: true,\n      requestUser: null,\n      showEditQuestion: false,\n      questionSlug: null,\n      questionBody: null\n    };\n  },\n\n  methods: {\n    setRequestUser() {\n      // the username has been set to localStorage by the App.vue component\n      this.requestUser = localStorage.getItem(\"author\");\n    },\n    setPageTitle(title) {\n      document.title = title;\n    },\n    getQuestionData() {\n      let endpoint = `/api/questions/${this.slug}/`;\n      APIService(endpoint).then(data => {\n        if(data) {\n          this.question = data;\n          this.userHasAnswered = data.user_has_answered;\n          this.setPageTitle(data.content);\n\n        }else {\n          this.question = null;\n          this.setPageTitle(\"404 Error\");\n        }\n        \n      });\n    },\n    getQuestionAnswers() {\n      let endpoint = `/api/questions/${this.slug}/answers/`;\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingAnswers = true;\n      APIService(endpoint).then(data => {\n        this.answers.push(...data.results);\n        this.loadingAnswers = false;\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n      });\n    },\n\n    async deleteAnswer(answer) {\n      let endpoint = `/api/answers/${answer.id}/`;\n      try {\n        await APIService(endpoint, \"DELETE\");\n        this.$delete(this.answers, this.answers.indexOf(answer));\n        this.userHasAnswered = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async isQuestionAuthor() {\n      let resp = await axios.get(\"http://127.0.0.1:8000/api/questions/\");\n      let q_obj = resp.data.results;\n      let current_user = localStorage.getItem(\"author\");\n      let result = q_obj.filter(obj => {\n        return obj.author === current_user;\n      });\n      if (this.question.author === current_user) {\n        this.showEditQuestion = true;\n      }\n    },\n    async deleteQuestion() {\n      let endpoint = `/api/questions/${this.slug}`;\n      try {\n        await APIService(endpoint, \"DELETE\");\n        this.$router.push(\"/core\");\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    onSubmit() {\n      if (this.newAnswerBody) {\n        let endpoint = `/api/questions/${this.slug}/answer/`;\n        APIService(endpoint, \"POST\", { body: this.newAnswerBody }).then(\n          data => {\n            this.answers.unshift(data);\n            this.showForm = false;\n            this.userHasAnswered = true;\n            if (this.error) {\n              this.error = null;\n            }\n          }\n        );\n        this.newAnswerBody = null;\n      } else {\n        this.error = \"You cannot send an empty answer!\";\n      }\n    },\n    submitUpdatedQuestion() {\n      if (this.questionBody) {\n        let endpoint = `/api/questions/${this.slug}/`;\n        APIService(endpoint, \"PUT\", { content: this.questionBody }).then(() => {\n          this.$router.push({\n            name: \"home\",\n            params: { slug: this.questionSlug }\n          });\n        });\n      } else {\n        this.error = \"Required field!\";\n      }\n    },\n    async beforeRouteEnter(to, from, next) {\n      // get the answer's data from the REST API and set two data properties for the component\n      let endpoint = `/api/questions/${to.params.slug}/`;\n      let data = await APIService(endpoint);\n      return next(vm => (vm.questionBody = data.content));\n    }\n  },\n  created() {\n    this.getQuestionData();\n    this.getQuestionAnswers();\n    this.setRequestUser();\n    this.isQuestionAuthor();\n    //this.deleteQuestion()\n  }\n};\n</script>\n \n\n<style scoped>\n.single-question {\n  margin: 100px 30px;\n}\n\n.answer-added {\n  font-weight: bold;\n  color: green;\n}\n.error {\n  font-weight: bold;\n  color: red;\n}\n</style>"],"sourceRoot":"src/views"}]}