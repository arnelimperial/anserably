{"remainingRequest":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js!/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/components/common-components/Answer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/src/components/common-components/Answer.vue","mtime":1590771181378},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/babel-loader/lib/index.js","mtime":1584985692138},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588785011040},{"path":"/Users/engine/Documents/D-VJ/QA2/qa/frontend/node_modules/vue-loader/lib/index.js","mtime":1588785012576}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgQVBJU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbnN3ZXJDb21wb25lbnQiLAogIHByb3BzOiB7CiAgICBhbnN3ZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSAvLyByZXF1ZXN0VXNlcjogewogICAgLy8gICB0eXBlOiBTdHJpbmcsCiAgICAvLyAgIHJlcXVpcmVkOiB0cnVlCiAgICAvLyB9CgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJMaWtlZEFuc3dlcjogdGhpcy5hbnN3ZXIudXNlcl9oYXNfdm90ZWQsCiAgICAgIGxpa2VzQ291bnRlcjogdGhpcy5hbnN3ZXIubGlrZXNfY291bnQsCiAgICAgIG1zZzogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNBbnN3ZXJBdXRob3I6IGZ1bmN0aW9uIGlzQW5zd2VyQXV0aG9yKCkgewogICAgICAvLyByZXR1cm4gdHJ1ZSBpZiB0aGUgbG9nZ2VkIGluIHVzZXIgaXMgYWxzbyB0aGUgYXV0aG9yIG9mIHRoZSBhbnN3ZXIgaW5zdGFuY2UKICAgICAgdmFyIGFuc3dlcl9vYmogPSB0aGlzLmFuc3dlcjsKICAgICAgdmFyIGF1dGhfYXV0aG9yX29mX2Fuc3dlciA9IE9iamVjdC52YWx1ZXMoYW5zd2VyX29iaikuaW5jbHVkZXMobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhvcicpKTsKICAgICAgcmV0dXJuIGF1dGhfYXV0aG9yX29mX2Fuc3dlcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRyaWdnZXJEZWxldGVBbnN3ZXI6IGZ1bmN0aW9uIHRyaWdnZXJEZWxldGVBbnN3ZXIoKSB7CiAgICAgIHRoaXMuJGVtaXQoImRlbGV0ZS1hbnN3ZXIiLCB0aGlzLmFuc3dlcik7CiAgICB9LAogICAgdG9nZ2xlTGlrZTogZnVuY3Rpb24gdG9nZ2xlTGlrZSgpIHsKICAgICAgdGhpcy51c2VyTGlrZWRBbnN3ZXIgPT09IGZhbHNlID8gdGhpcy5saWtlQW5zd2VyKCkgOiB0aGlzLnVuTGlrZUFuc3dlcigpOwogICAgfSwKICAgIGxpa2VBbnN3ZXI6IGZ1bmN0aW9uIGxpa2VBbnN3ZXIoKSB7CiAgICAgIHRoaXMudXNlckxpa2VkQW5zd2VyID0gdHJ1ZTsKICAgICAgdGhpcy5saWtlc0NvdW50ZXIgKz0gMTsKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvYW5zd2Vycy8iLmNvbmNhdCh0aGlzLmFuc3dlci5pZCwgIi9saWtlLyIpOwogICAgICB0aGlzLm1zZyA9ICdZb3UgbGlrZSBpdCEnOwogICAgICBBUElTZXJ2aWNlKGVuZHBvaW50LCAnUE9TVCcpOwogICAgfSwKICAgIHVuTGlrZUFuc3dlcjogZnVuY3Rpb24gdW5MaWtlQW5zd2VyKCkgewogICAgICB0aGlzLnVzZXJMaWtlZEFuc3dlciA9IGZhbHNlOwogICAgICB0aGlzLmxpa2VzQ291bnRlciAtPSAxOwogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9hbnN3ZXJzLyIuY29uY2F0KHRoaXMuYW5zd2VyLmlkLCAiL2xpa2UvIik7CiAgICAgIHRoaXMubXNnID0gJ1lvdSBkaXNsaWtlIGl0ISc7CiAgICAgIEFQSVNlcnZpY2UoZW5kcG9pbnQsICdERUxFVEUnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Answer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,UAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA,CAKA;AACA;AACA;AACA;;AARA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,eAAA,EAAA,KAAA,MAAA,CAAA,cADA;AAEA,MAAA,YAAA,EAAA,KAAA,MAAA,CAAA,WAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAMA,GAnBA;AAqBA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA;AACA,UAAA,UAAA,GAAA,KAAA,MAAA;AACA,UAAA,qBAAA,GAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,QAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;AACA,aAAA,qBAAA;AAEA;AAPA,GArBA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,MAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,eAAA,KAAA,KAAA,GACA,KAAA,UAAA,EADA,GAEA,KAAA,YAAA,EAFA;AAGA,KARA;AASA,IAAA,UATA,wBASA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,YAAA,IAAA,CAAA;AACA,UAAA,QAAA,0BAAA,KAAA,MAAA,CAAA,EAAA,WAAA;AACA,WAAA,GAAA,GAAA,cAAA;AACA,MAAA,UAAA,CAAA,QAAA,EAAA,MAAA,CAAA;AAGA,KAjBA;AAkBA,IAAA,YAlBA,0BAkBA;AACA,WAAA,eAAA,GAAA,KAAA;AACA,WAAA,YAAA,IAAA,CAAA;AACA,UAAA,QAAA,0BAAA,KAAA,MAAA,CAAA,EAAA,WAAA;AACA,WAAA,GAAA,GAAA,iBAAA;AACA,MAAA,UAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AAEA;AAzBA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"single-answer\">\n    <p class=\"text-muted\">\n      <strong>{{ answer.author }}</strong>\n      &#8901; {{ answer.created }}\n    </p>\n    <p>{{ answer.body }}</p>\n    <div v-if=\"isAnswerAuthor\">\n      <router-link \n        :to=\"{ name: 'answer-editor', params: { id: answer.id }}\"\n        class=\"btn btn-sm btn-outline-secondary mr-1\"\n      >Edit</router-link>\n      <button class=\"btn btn-sm btn-outline-danger\" @click=\"triggerDeleteAnswer\">Delete</button>\n    </div>\n    <div v-else>\n      <button \n        class=\"btn btn-sm\"\n        @click=\"toggleLike\"\n        :class=\"{\n          'btn-info': userLikedAnswer,\n          'btn-outline-secondary': !userLikedAnswer,\n        }\"\n      \n      >\n      <strong><i class=\"fas fa-thumbs-up\"></i>[{{ likesCounter }}]</strong>\n      </button>\n      <span class=\"text-muted ml-3\">{{ msg }}</span>\n\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { APIService } from \"@/common/api.service.js\";\nexport default {\n  name: \"AnswerComponent\",\n  props: {\n    answer: {\n      type: Object,\n      required: true\n    },\n    // requestUser: {\n    //   type: String,\n    //   required: true\n    // }\n  },\n  data() {\n    return {\n      userLikedAnswer: this.answer.user_has_voted,\n      likesCounter: this.answer.likes_count,\n      msg: ''\n    }\n\n  },\n\n  computed: {\n    isAnswerAuthor() {\n      // return true if the logged in user is also the author of the answer instance\n      let answer_obj = this.answer;\n      let auth_author_of_answer = Object.values(answer_obj).includes(localStorage.getItem('author'));\n      return auth_author_of_answer;\n      \n    }\n\n  },\n  methods: {\n    triggerDeleteAnswer() {\n      this.$emit(\"delete-answer\", this.answer);\n    },\n    toggleLike(){\n      this.userLikedAnswer === false \n        ? this.likeAnswer()\n        : this.unLikeAnswer()\n    },\n    likeAnswer(){\n      this.userLikedAnswer = true;\n      this.likesCounter += 1;\n      let endpoint = `/api/answers/${ this.answer.id}/like/`;\n      this.msg = 'You like it!'\n      APIService(endpoint, 'POST');\n\n\n    },\n    unLikeAnswer(){\n      this.userLikedAnswer = false;\n      this.likesCounter -= 1;\n      let endpoint = `/api/answers/${ this.answer.id}/like/`;\n      this.msg = 'You dislike it!'\n      APIService(endpoint, 'DELETE');\n\n    }\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components/common-components"}]}